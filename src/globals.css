@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 99%;
    --foreground: 224 71% 4%;

    --app-header-h: 3.5rem;

    --card: 0 0% 100%;
    --card-foreground: 224 71% 4%;

    --popover: 0 0% 100%;
    --popover-foreground: 224 71% 4%;

    /* Stage Amber - made slightly more vibrant for light mode */
    --primary: 20 100% 55%; 
    --primary-foreground: 0 0% 100%;

    --secondary: 220 14% 96%;
    --secondary-foreground: 224 71% 4%;

    --muted: 220 14% 96%;
    --muted-foreground: 220 8% 46%;

    --accent: 220 14% 94%;
    --accent-foreground: 224 71% 4%;

    --destructive: 360 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 220 13% 90%; 
    --input: 220 13% 90%;
    --ring: 20 100% 63%;

    --radius: 0.75rem;

    /* New Variable for subtle glow effects */
    --glow: 20 100% 63%;

    /* Sidebar - Light Mode */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 224 71% 4%;
    --sidebar-primary: 20 100% 63%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 216 20% 94%;
    --sidebar-accent-foreground: 224 71% 4%;
    --sidebar-border: 220 13% 90%;
    --sidebar-ring: 20 100% 63%;
  }

  .dark {
    --background: 224 71% 4%;
    --foreground: 0 0% 98%;

    /* Dark Mode Card - Slightly transparent for depth */
    --card: 224 71% 6%;
    --card-foreground: 0 0% 98%;

    --popover: 224 71% 6%;
    --popover-foreground: 0 0% 98%;

    --primary: 20 100% 63%;
    --primary-foreground: 0 0% 100%;

    --secondary: 224 25% 12%;
    --secondary-foreground: 0 0% 98%;

    --muted: 224 25% 12%;
    --muted-foreground: 220 10% 66%;

    --accent: 224 25% 18%;
    --accent-foreground: 0 0% 98%;

    --destructive: 360 70% 55%;
    --destructive-foreground: 0 0% 98%;

    --border: 224 25% 18%;
    --input: 224 25% 18%;
    --ring: 20 100% 63%;
    
    /* Glow matches primary in dark mode */
    --glow: 20 100% 63%;

    /* Sidebar - Dark Mode */
    --sidebar-background: 224 71% 5%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 20 100% 63%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 224 25% 18%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 224 25% 18%;
    --sidebar-ring: 20 100% 63%;
  }
}

@layer base {
  html, body {
    @apply h-full w-full overflow-x-hidden;
    -webkit-text-size-adjust: 100%; 
  }

  body {
    @apply bg-background text-foreground antialiased;
    max-width: 100vw; 

    /* MODERNIZATION: Ambient Gradient */
    /* This adds a subtle spotlight effect at the top center */
    background-image: radial-gradient(
      circle at 50% 0%, 
      hsl(var(--background)) 0%, 
      hsl(var(--background)) 100%
    );
  }

  /* Dark mode specific lighting */
  .dark body {
    background-image: radial-gradient(
      circle at 50% -20%, 
      hsl(224 71% 10%) 0%, 
      hsl(var(--background)) 50%
    );
  }
  
  * {
    @apply border-border;
    box-sizing: border-box; 
  }
  
  /* MODERNIZATION: Improved Card Shadows with Color */
  .card-shadow {
    box-shadow: 
      0 4px 6px -1px rgb(0 0 0 / 0.1), 
      0 2px 4px -2px rgb(0 0 0 / 0.1);
  }

  .dark .card-shadow {
    /* In dark mode, shadows are harder to see, so we use a very subtle border highlight */
    box-shadow: 
      0 0 0 1px hsl(var(--border)),
      0 4px 12px -2px rgb(0 0 0 / 0.5);
  }

  /* UTILITY: Glassmorphism / Frosted Glass */
  /* Apply this class to sticky headers, floating menus, or overlays */
  .glass {
    background: hsla(var(--background) / 0.75);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid hsla(var(--foreground) / 0.05);
  }

  /* UTILITY: The "Stage Glow" */
  /* Apply to primary buttons or active states for a neon feel */
  .glow {
    box-shadow: 0 0 15px -3px hsl(var(--glow) / 0.3);
  }
  
  /* UTILITY: Tactile Buttons */
  /* Makes buttons feel like they are physically being pressed */
  button:active {
    transform: translateY(1px);
  }
  
  .text-scale-safe {
    word-break: break-word;
    overflow-wrap: break-word;
  }
}